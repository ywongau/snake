(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{10:function(e,t,o){},11:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o(1),r=o(3),s=o.n(r),i=(o(9),({food:e})=>Object(n.jsx)("div",{className:"food",style:{left:e[0]+"em",top:e[1]+"em",width:"1em",height:"1em"}})),c=({snake:e})=>e.map((e=>Object(n.jsx)("div",{className:"snake",style:{left:e[0]+"em",top:e[1]+"em",width:"1em",height:"1em"}},e))),d=({snake:e,food:t})=>Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(c,{snake:e})," ",Object(n.jsx)(i,{food:t})]}),l={left:37,up:38,right:39,down:40};const m="next",u="init",h="direction";var v=(e,t,o)=>()=>{const[n,r]=Object(a.useReducer)((e=>(t,o)=>{switch(o.type){case m:return{...t,game:e(t.game,t.direction)};case h:return{...t,direction:o.payload};case u:return{...t,game:e(),timer:o.payload};default:return t}})(e),{game:void 0,timer:void 0,direction:l.up}),s=e=>{Object.values(l).includes(e.keyCode)&&r({type:h,payload:e.keyCode})};return n.game&&!n.game.isAlive&&o(n.timer),[n,()=>{const e=t((()=>{r({type:m})}));r({type:u,payload:e}),document.body.addEventListener("keydown",s)}]};const g={[l.up]:[0,-1],[l.down]:[0,1],[l.left]:[-1,0],[l.right]:[1,0]},k=(e,t)=>{return o=e,n=t,2===Math.abs(o-n)?e:t;var o,n};var f=e=>(t,o)=>void 0===t?(e=>{const t=[[Math.floor(15.5),Math.floor(11.5)]];return{snake:t,isAlive:!0,food:e(t),movingDirection:l.up}})(e):((e,t,o)=>{const n=k(t.movingDirection,o),a=g[n],r=[t.snake[0][0]+a[0],t.snake[0][1]+a[1]],s=(i=r,c=t.food,i[0]===c[0]&&i[1]===c[1]);var i,c;const d=s?t.snake:t.snake.slice(0,-1),l=[r,...d],m=!(e=>-1===e[0]||-1===e[1]||32===e[0]||24===e[1])(r)&&(u=r,!d.some((e=>e[0]===u[0]&&e[1]===u[1])));var u;return{...t,snake:m?l:t.snake,food:s?e(l):t.food,isAlive:m,movingDirection:n}})(e,t,o);o(10);const p=e=>[...Array(e).keys()];var j=(e,t,o)=>n=>{return a=e(),(r=((e,t)=>{return o=e=>t=>[e,t],n=p(e),a=p(t),((e,t)=>e.flatMap((e=>t.map((t=>e(t))))))(n.map(o),a);var o,n,a})(t,o).filter((s=n,e=>!s.some((t=>t[0]===e[0]&&t[1]===e[1])))))[Math.floor(r.length*a)];var a,r,s},y=()=>{const[e,t]=v(f(j(Math.random,31,23)),(e=>setInterval(e,150)),clearInterval)();return Object(n.jsxs)("div",{className:"board",style:{width:"32em",height:"24em"},children:[e.game?Object(n.jsx)(d,{snake:e.game.snake,food:e.game.food}):null,e.game&&e.game.isAlive?null:Object(n.jsx)("button",{onClick:t,children:"Start"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(n.jsx)(y,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},9:function(e,t,o){}},[[11,1,2]]]);
//# sourceMappingURL=main.c54a5133.chunk.js.map